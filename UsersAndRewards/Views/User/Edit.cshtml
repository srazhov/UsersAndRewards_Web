@model UserViewModel
@{
    ViewData["Title"] = "Редактирование Пользователя";
    Layout = "_User.cshtml";
}

@section BreadLink {
    <li class="breadcrumb-item">
        <a asp-controller="User" asp-action="Index">User</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Edit</li>
}

<form asp-controller="User" asp-action="Create" method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    <h4>Создание/Редактирование Пользователя</h4>
    <hr />
    <div class="validation" asp-validation-summary="All"></div>
    <input type="hidden" name="id" value="@Model.Id" />
    <div class="form-group col-md-5">
        <label for="name">Имя:</label>
        <input class="form-control" name="name" type="text" value="@Model.Name" required />
        <div class="invalid-feedback">Введите имя</div>
    </div>
    <div class="form-group col-md-5">
        <label for="birthdate">Дата рождения:</label>
        <input class="form-control" name="birthdate" type="date" value="@Model.Birthdate.ToString("yyyy-MM-dd")" required />
        <div class="invalid-feedback">Не указано дата рождения</div>
    </div>
    <div class="form-group col-md-5">
        <label for="uploadFile">Фото:</label>
        <input class="form-control-file" name="uploadFile" type="file" />
        @if (Model.PhotoUrl != null)
        {
            <a asp-controller="User" asp-action="RemoveImage" asp-route-index="@Model.Id">Удалить фото</a>
        }
    </div>
    <div class="panel-body">
        <button type="submit" id="submit" class="btn btn-primary">Сохранить</button>
    </div>
</form>
